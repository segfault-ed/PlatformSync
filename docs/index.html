
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>PlatformSync API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;json&quot;,&quot;http&quot;,&quot;curl&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="json">json</a>
              <a href="#" data-language-name="http">http</a>
              <a href="#" data-language-name="curl">curl</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="introduction">Introduction</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#platformsync-push-api" class="toc-h2 toc-link" data-title="platformsync-push-api">PlatformSync Push API</a>
                  </li>
                  <li>
                    <a href="#platformsync-pull-api" class="toc-h2 toc-link" data-title="platformsync-pull-api">PlatformSync Pull API</a>
                  </li>
                  <li>
                    <a href="#missing-data" class="toc-h2 toc-link" data-title="missing-data">Missing Data</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#push-api" class="toc-h1 toc-link" data-title="push-api">Push API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#urls" class="toc-h2 toc-link" data-title="urls">URLs</a>
                  </li>
                  <li>
                    <a href="#security" class="toc-h2 toc-link" data-title="security">Security</a>
                  </li>
                  <li>
                    <a href="#interested-transactions" class="toc-h2 toc-link" data-title="interested-transactions">Interested Transactions</a>
                  </li>
                  <li>
                    <a href="#payload" class="toc-h2 toc-link" data-title="payload">Payload</a>
                  </li>
                  <li>
                    <a href="#failure-notifications" class="toc-h2 toc-link" data-title="failure-notifications">Failure Notifications</a>
                  </li>
                  <li>
                    <a href="#message-expiration" class="toc-h2 toc-link" data-title="message-expiration">Message Expiration</a>
                  </li>
                  <li>
                    <a href="#caveats" class="toc-h2 toc-link" data-title="caveats">Caveats</a>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://github.com/Loomis-us-sp/PlatformSync/issues'>Issues</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <aside class="notice">
<strong>Early Development Warning</strong> Note that this API (and associated documentation) is in VERY early stages of development.  It should be expected that, as long as you see this message, that the API can, and will, change. You have been warned!
</aside>
<h1 id='introduction'>Introduction</h1>
<p>Welcome to the Loomis PlatformSync API!</p>

<p>Our API comes in 2 flavors, Push API, and Pull API.</p>
<h2 id='platformsync-push-api'>PlatformSync Push API</h2>
<p>As its name implies, the Push API will push data into your API via REST endpoints provided by you.  This will enable near-real-time transactional data.</p>
<h2 id='platformsync-pull-api'>PlatformSync Pull API</h2>
<p>The Pull API will enable you to connect to our API REST service to query for transactional data.  You will also use this service to get data that was missed from the Push Service</p>
<h2 id='missing-data'>Missing Data</h2>
<p>There may be instances where you would expect data to be coming to you, but it is not there.  In <em>most</em> cases, this is due to a data quality alert that halts processing until someone can take action on the alert.  </p>

<p>In other instances, we may have been unable to deliver messages to your endpoints (in the case that you&#39;re using the Push API).  In these instances, you will want to use the Pull API to fill in the missing information.</p>
<h1 id='push-api'>Push API</h1>
<p>The Push API will push certain types of transactions to your supplied REST endpoints. We will send the transactions as soon as they occur on the safe and are processed by our system.</p>

<p><strong>Setup</strong></p>

<p>Right now, the setup for thie service is a manual process.  We have plans to integrate this into Loomis Direct, but at this time, we are not there yet.  To begin the setup process, you must communicate directly with our development teams who will perform the requisite setup on our systems.</p>
<h2 id='urls'>URLs</h2>
<p>You must provide a minimum of one REST endpoint for your data to be posted to.  You may also choose to provide a single endpoint for each type pf transaction (See &quot;Interested Transactions&quot; below).  The transactions will be sent as an HTTP POST.</p>
<h2 id='security'>Security</h2>
<p>Security should be implemented as a long-lived, unique API token.  We do not yet support security via OAuth or username/password.</p>

<p>The token will be passed to your REST endpoint either in the body or as an <code>Authorization</code> header as a bearer token.</p>
<h2 id='interested-transactions'>Interested Transactions</h2>
<p>You may choose to receive any of the following types of transactions:</p>

<ul>
<li>End of Day</li>
<li>End of Shift</li>
<li>Validated Drop</li>
<li>Change Purchase</li>
<li>Servicing</li>
</ul>

<p>In addition, you may choose certain &quot;buffer&quot; points, where transactions are not sent to you until a certain type of transaction occurs.  For example, you may hold validated drops and servicings until an End of Day occurs, at which point all transactions that have not yet been sent will be sent along with the EOD transaction.</p>
<h2 id='payload'>Payload</h2><pre class="highlight json tab-json"><code><span class="w">    </span><span class="p">{</span><span class="w">
        </span><span class="err">Count</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
        </span><span class="err">Remaining</span><span class="p">:</span><span class="w"> </span><span class="mi">2322</span><span class="p">,</span><span class="w">
        </span><span class="err">Start</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="err">Transactions</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w"> </span><span class="err">/*</span><span class="w"> </span><span class="err">Transaction</span><span class="w"> </span><span class="err">object</span><span class="w"> </span><span class="err">*/</span><span class="w"> </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span></code></pre>
<p>We will POST transactionsThe transactions will come in JSON format, and will follow consistent patterns.</p>

<p>You should supply us with a desired size (in transaction count) of your payload.  We will default to 1,000 transactions at a time.</p>
<h2 id='failure-notifications'>Failure Notifications</h2>
<p>If we are unable to deliever your data after a predefined number of retries, we will notifiy the defined email addresses of the failure.  It will then be your responsiblity to get these failed transactions from the Pull API.</p>
<h2 id='message-expiration'>Message Expiration</h2>
<p>We will attempt to deliver your data on an interval for a period of 24 hours.</p>
<h2 id='caveats'>Caveats</h2>
<p>In the event of a failure, we will do our best to deliver recovered transactions in the same order in which they occured. However, your system should be resilient enough to handle out-of-order transactions.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="json">json</a>
                <a href="#" data-language-name="http">http</a>
                <a href="#" data-language-name="curl">curl</a>
          </div>
      </div>
    </div>
  </body>
</html>
